<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Оплата успешна</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="success.css">
</head>
<body>

  <!-- Прелоадер (оставляем без изменений) -->
  <div id="successPreloader">
    <div class="preloader-content">
      <img src="BANK_loader2.png" alt="Loader" class="top-loader">
      <img src="load.gif" alt="Processing" class="bottom-loader">
      <p class="typing-text">ОБРАБОТКА ПЛАТЕЖА...</p>
    </div>
  </div>

  <!-- Основная структура страницы -->
  <div class="content">
    <!-- 1-й блок -->
    <div class="header">
      <span class="close-text">Закрыть</span>
      <h1 class="title">Операции</h1>
    </div>

    
<!-- 2-й блок: Дата -->
<div class="datetime-block">
  <p class="datetime" id="datetime"></p>

  <!-- Логотип, нависающий между блоками -->
  <img src="logo.jpg" alt="Logo" class="logo-floating">
</div>
   
    <!-- 4-й блок: Информация о платеже -->
<div class="payment-info">
  <p class="payer-name">Никита И.</p>

  <p class="payment-method" id="paymentMethod">Оплата транспорта по СБП <span id="transportDisplay"></span> № <span id="numberDisplay"></span> </p>

  <p class="old-amount">
    <span class="strikethrough">252,19</span> → 223,19
  </p>  
  <p class="amount">-29₽</p>
<img src="del.jpg" alt="Del" class="del-image">
  </div>

    
    
<!-- 5-й блок -->
<div class="transfer-block">
  <span class="transfer-text">Покупка со счета 
    <img src="SPB.png" alt="SPB" class="spb-icon">
  </span>
  <a href="/" class="documents-button" style="text-decoration: none; color: #007bff; font-weight: bold;">Справка</a>
</div>
  
  <script>
    window.addEventListener("DOMContentLoaded", () => {
      // Прелоадер
      const preloader = document.getElementById("successPreloader");
      setTimeout(() => {
        preloader.classList.add("hide");
      }, 3000);

      // Установка даты и времени
      const now = new Date();
      const options = { year: 'numeric', month: 'long', day: 'numeric', hour: '2-digit', minute: '2-digit' };
      document.getElementById('datetime').textContent = now.toLocaleString('ru-RU', options);

      // Получение данных из localStorage
      const transport = localStorage.getItem("selectedTransport");
      const number = localStorage.getItem("number");

      // Вывод в нужные элементы
      document.getElementById("transportDisplay").textContent = transport || "Не выбран";
      document.getElementById("numberDisplay").textContent = number || "Не указан";

      if (transport && number) {
        document.getElementById("paymentMethod").textContent = `Оплата по СБП · ${transport} ${number}`;
      }
    });
  </script>

</body>
</html>
